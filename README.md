# -_-
å­¦ä¹ åµŒå…¥å¼çš„ä¸€äº›é—®ç­”è®°å½•
çŽ°åœ¨æˆ‘å­¦ä¼šäº†å˜é‡å’ŒæŒ‡é’ˆï¼Œä¸€ç»´æ•°ç»„å’ŒäºŒç»´æ•°ç»„çš„æŒ‡é’ˆï¼ŒçŽ°åœ¨æˆ‘èƒ½å­¦å‡½æ•°æŒ‡é’ˆå—ï¼Ÿ

å¯ä»¥çš„ ðŸ‘
ä½ çŽ°åœ¨å·²ç»å­¦ä¼šäº†å˜é‡ã€æŒ‡é’ˆå’Œæ•°ç»„çš„æŒ‡é’ˆï¼Œå…¶å®žè¿™äº›éƒ½æ˜¯ ç†è§£å‡½æ•°æŒ‡é’ˆçš„åŸºç¡€ã€‚

PS:å¯¹æˆ‘è€Œè¨€ï¼Œå‡½æ•°æŒ‡é’ˆå°±æ˜¯å°†åŽŸæ¥éœ€è¦ä¸€ä¸ªä¸ªis-elseæ¥åšåˆ¤æ–­åšé€‰æ‹©çš„äº‹æƒ…ï¼Œå˜æˆäº†åƒæ•°ç»„ä¸€æ ·ï¼Œé€šè¿‡åœ°å€ï¼ˆä¸‹æ ‡ï¼‰ç›´æŽ¥è°ƒç”¨ï¼ŒçœåŽ»äº†åšåˆ¤æ–­çš„åŠŸå¤«ï¼Œä¿®æ”¹èµ·æ¥ä»£ç é‡æ›´å°‘ï¼Œç†è§£ä¹‹åŽä¹Ÿæ›´ç›´è§‚ï¼Œæœ¬è´¨å°±æ˜¯å¯¹if-elseçš„ç®€åŒ–

# å‡½æ•°æŒ‡é’ˆå­¦ä¹ æ•´ç†

## 1ï¸âƒ£ åŸºç¡€æ¦‚å¿µ

- **å‡½æ•°æŒ‡é’ˆ**å°±æ˜¯**å­˜å‚¨å‡½æ•°åœ°å€çš„æŒ‡é’ˆ**ã€‚
- å†™æ³•ç¤ºä¾‹ï¼š
```c
int (*fp)(int,int);   // æŒ‡å‘è¿”å›ž intã€å‚æ•°ä¸º (int,int) çš„å‡½æ•°
fp = add;             // æŒ‡å‘å‡½æ•° add
int result = fp(2,3); // è°ƒç”¨å‡½æ•°
```
- **å‡½æ•°åæœ¬èº«å°±æ˜¯åœ°å€**ï¼š`add == &add`
- **æ•°ç»„åä¸Žå‡½æ•°åä¸åŒ**ï¼š
  - `arr == &arr[0]` ï¼ˆæ•°ç»„åé€€åŒ–ä¸ºé¦–å…ƒç´ æŒ‡é’ˆï¼‰
  - `&arr` æ˜¯æ•´ä¸ªæ•°ç»„åœ°å€ï¼Œç±»åž‹ä¸åŒ

---

## 2ï¸âƒ£ å‡½æ•°æŒ‡é’ˆçš„æ ¸å¿ƒä»·å€¼

> æŠŠå‡½æ•°å½“ä½œæ•°æ®ä¼ é€’ï¼Œä½¿ç¨‹åºæ›´çµæ´»ã€å¯æ‰©å±•ã€å¯å¤ç”¨

- ä¸»è¦ç”¨é€”ï¼š
  1. å›žè°ƒå‡½æ•°ï¼ˆCallbackï¼‰
  2. å‡½æ•°æ•°ç»„ / èœå•è°ƒç”¨
  3. çŠ¶æ€æœºï¼ˆState Machineï¼‰
  4. ç»“æž„ä½“ + å‡½æ•°æŒ‡é’ˆ â†’ æ¨¡æ‹Ÿè™šå‡½æ•° / å¤šæ€
  5. æ‹“å±•åœºæ™¯ï¼šæ’ä»¶æœºåˆ¶ã€äº‹ä»¶é©±åŠ¨ã€ç®—æ³•å¯æ›¿æ¢ã€ä»»åŠ¡è°ƒåº¦

---

## 3ï¸âƒ£ åº”ç”¨ç¤ºä¾‹ä¸Žè¯´æ˜Ž

### 3.1 å›žè°ƒå‡½æ•°ï¼ˆCallbackï¼‰

- **æ¦‚å¿µ**ï¼šæŠŠè¡Œä¸ºä¼ ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œè®©å®ƒåœ¨å†…éƒ¨è°ƒç”¨
- **ç¤ºä¾‹**ï¼šæŽ’åºå‡½æ•°ä¸­ä¼ å…¥ä¸åŒæ¯”è¾ƒè§„åˆ™
```c
int cmp_asc(int a,int b){ return a > b; }
int cmp_desc(int a,int b){ return a < b; }

void bubble_sort(int arr[], int n, int (*cmp)(int,int)){
    for(int i=0;i<n-1;i++){
        for(int j=0;j<n-1-i;j++){
            if(cmp(arr[j],arr[j+1])){
                int t=arr[j]; arr[j]=arr[j+1]; arr[j+1]=t;
            }
        }
    }
}
```
- **ä¼˜ç‚¹**ï¼š
  - åŠ¨æ€ä¼ é€’è¡Œä¸º
  - å‡å°‘é‡å¤ä»£ç 
  - æé«˜çµæ´»æ€§
- **ä¸ç”¨å‡½æ•°æŒ‡é’ˆçš„æ›¿ä»£æ–¹æ³•**ï¼š
```c
void bubble_sort(int arr[], int n, const char* order) {
    for(int i=0;i<n-1;i++){
        for(int j=0;j<n-1-i;j++){
            if((strcmp(order,"asc")==0 && arr[j]>arr[j+1]) ||
               (strcmp(order,"desc")==0 && arr[j]<arr[j+1])){
                int t=arr[j]; arr[j]=arr[j+1]; arr[j+1]=t;
            }
        }
    }
}
```
  - **ä¼˜ç‚¹**ï¼šç®€å•ï¼Œæ˜“ç†è§£  
  - **ç¼ºç‚¹**ï¼šåˆ¤æ–­å¼€é”€ã€æ‰©å±•æ€§å·®ï¼Œå¦‚æžœè§„åˆ™å¤šå°±ä¼šå˜å¤æ‚  

---

### 3.2 å‡½æ•°æ•°ç»„ / èœå•è°ƒç”¨

- **æ¦‚å¿µ**ï¼šæŠŠå¤šä¸ªå‡½æ•°åœ°å€å­˜å…¥æ•°ç»„ï¼Œæ ¹æ®ç´¢å¼•è°ƒç”¨
- **ç¤ºä¾‹**ï¼š
```c
void say_hello() { printf("Hello!\n"); }
void say_bye()   { printf("Bye!\n"); }

void (*actions[2])() = {say_hello, say_bye};

int choice;
scanf("%d",&choice);
if(choice>=0 && choice<2) actions[choice]();
```
- **ä¼˜ç‚¹**ï¼š
  - å‡å°‘ if/else æˆ– switch
  - æ‰©å±•åŠŸèƒ½ç®€å•
  - è¡Œä¸ºå¯åŠ¨æ€é€‰æ‹©
- **ä¸ç”¨å‡½æ•°æŒ‡é’ˆçš„æ›¿ä»£æ–¹æ³•**ï¼š
```c
if(choice==0) say_hello();
else if(choice==1) say_bye();
```
  - **ä¼˜ç‚¹**ï¼šç®€å•ç›´æŽ¥  
  - **ç¼ºç‚¹**ï¼šåˆ†æ”¯å¤šæ—¶ä¸æ˜“æ‰©å±•ï¼Œå¯è¯»æ€§å·®  

---

### 3.3 çŠ¶æ€æœºï¼ˆState Machineï¼‰

- **æ¦‚å¿µ**ï¼šæ¯ä¸ªçŠ¶æ€å¯¹åº”ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ
- **ç¤ºä¾‹**ï¼š
```c
void red()    { printf("çº¢ç¯äº®\n"); }
void green()  { printf("ç»¿ç¯äº®\n"); }
void yellow() { printf("é»„ç¯äº®\n"); }

void (*state)() = red;
state();       // çº¢ç¯
state = green;
state();       // ç»¿ç¯
```
- **ä¼˜ç‚¹**ï¼š
  - çŠ¶æ€åˆ‡æ¢ç›´è§‚
  - å‡å°‘æ¡ä»¶åˆ¤æ–­
  - æ˜“æ‰©å±•
- **ä¸ç”¨å‡½æ•°æŒ‡é’ˆçš„æ›¿ä»£æ–¹æ³•**ï¼š
```c
if(state==RED) red();
else if(state==GREEN) green();
else if(state==YELLOW) yellow();
```
  - **ä¼˜ç‚¹**ï¼šæ˜“ç†è§£  
  - **ç¼ºç‚¹**ï¼šçŠ¶æ€å¤šæ—¶åˆ†æ”¯å¤šï¼Œä¸å¤Ÿçµæ´»  

---

### 3.4 ç»“æž„ä½“ + å‡½æ•°æŒ‡é’ˆï¼ˆæ¨¡æ‹Ÿè™šå‡½æ•°ï¼‰

- **æ¦‚å¿µ**ï¼šç»“æž„ä½“å­˜æ•°æ® + å‡½æ•°æŒ‡é’ˆ â†’ æ¨¡æ‹Ÿå¯¹è±¡æ–¹æ³•
- **ç¤ºä¾‹**ï¼š
```c
typedef struct { void (*speak)(); } Animal;
void dog_speak() { printf("æ±ªæ±ªæ±ª\n"); }
void cat_speak() { printf("å–µå–µå–µ\n"); }

Animal dog = {dog_speak};
Animal cat = {cat_speak};

dog.speak();
cat.speak();
```
- **ä¼˜ç‚¹**ï¼š
  - å®žçŽ°å¤šæ€
  - ç»Ÿä¸€æŽ¥å£ï¼Œä¸åŒå®žçŽ°
  - æ–¹ä¾¿å¤§åž‹å·¥ç¨‹æ‰©å±•
- **ä¸ç”¨å‡½æ•°æŒ‡é’ˆçš„æ›¿ä»£æ–¹æ³•**ï¼š
  - æ¯ç§åŠ¨ç‰©å†™å•ç‹¬å‡½æ•°è°ƒç”¨ï¼Œæ²¡æœ‰ç»Ÿä¸€æŽ¥å£  
  - **ç¼ºç‚¹**ï¼šå¢žåŠ å¯¹è±¡ç±»åž‹æ—¶éœ€è¦æ”¹è°ƒç”¨ä»£ç ï¼Œæ‰©å±•æ€§å·®  

---

## 4ï¸âƒ£ æ‹“å±•åœºæ™¯

- æ’ä»¶æœºåˆ¶ / åŠ¨æ€åŠ è½½
- äº‹ä»¶é©±åŠ¨ç³»ç»Ÿï¼ˆGUIã€ç½‘ç»œï¼‰
- å‡½æ•°æŒ‡é’ˆæ•°ç»„ + å¾ªçŽ¯è¡¨ï¼ˆä»»åŠ¡è°ƒåº¦ã€å®šæ—¶å™¨ï¼‰
- ç®—æ³•å¯æ›¿æ¢ï¼ˆæŽ’åºã€æœç´¢ã€åŽ‹ç¼©ã€åŠ å¯†ç­‰ï¼‰

---

## 5ï¸âƒ£ æ€»ç»“

- **æ ¸å¿ƒä½œç”¨**ï¼šæŠŠå‡½æ•°å½“ä½œæ•°æ®ä¼ é€’ï¼Œè®©ç¨‹åºæ›´çµæ´»ã€å¯æ‰©å±•ã€å¯å¤ç”¨
- **ä»€ä¹ˆæ—¶å€™ç”¨**ï¼š
  - è¡Œä¸ºéœ€è¦åŠ¨æ€é€‰æ‹©
  - ç»Ÿä¸€æŽ¥å£ï¼Œä¸åŒå®žçŽ°
  - æé«˜æ‰©å±•æ€§å’Œå¯å¤ç”¨æ€§
- **æ€è·¯**ï¼šæŠŠå‡½æ•°åå½“ä½œâ€œæŒ‡é’ˆâ€ï¼Œå¯ä»¥å­˜å‚¨ã€ä¼ é€’ã€åŠ¨æ€è°ƒç”¨
- **ä¸ç”¨å‡½æ•°æŒ‡é’ˆæ—¶**ï¼š
  - æ¡ä»¶åˆ¤æ–­ç®€å•ç›´æŽ¥ï¼Œä½†æ‰©å±•æ€§å·®ã€ä»£ç é‡å¤å¤šã€æ•ˆçŽ‡ç¨ä½Ž

